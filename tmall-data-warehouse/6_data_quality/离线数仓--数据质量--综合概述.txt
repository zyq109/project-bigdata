
数仓项目（离线项目、实时项目），统计分析指标，如何把控是否正确呢？
	1）、当ADS计算完，如何判断指标是正确的
		√（1） 样本数据验证： 从计算结果抽取部分样本数据，【与业务部门实际数据对比】。
		（2） 逻辑验证： 检查指标的计算 sql 是否正确
		（3） 指标间关系验证： 比较不同指标间关系， 检查它们是否符合预期。
			例如： 某个指标是另外一个指标的累计值， 那么这两个指标一定存在关系
		√（4） 历史数据对比： 将计算结果和过去数据进行对比， 观察指标的变化趋势
		√（5） 异常值检测： 检查计算结果中是否存在异常值
		（6） 跨数据部门对比： 可以将计算结果与其它部门或团队的数据进行对比，进一步验证

	2）、ADS 层指标计算错误， 如何解决
		要么业务数据问题，要么计算处理逻辑问题（代码）
		（1）、确定错误范围：
			找出指标计算错误的时间范围，指标及相关维度，缩小排查范围
		（2）、检查数据处理逻辑：
			从 ods 层开始排查，找出可能导致计算错误的数据清洗，转换和聚合等步骤，确认处理逻辑不出错误
		（3） 审查数据质量：
			确保每层数据完整性，一致性，准确性和时效性
		（4）、重新计算指标：
			修复数据质量问题和处理逻辑后， 重新计算

	3）、数据质量（Data Quality）
		检查数仓分层中每层（或者核心层）数据完整性、一致性、准确性和实效性等
		1、针对ODS层、DIM层、DWD层检查
			ODS层数据来自外部数据同步，
				在数据量大和全量增量同步时，可能出现数据重复、丢失等情况
			维度建模：DIM和DWD
				将来使用的数据，主要从ODS层关联join和处理得到的，可能出现数据重复，字段值问题等情况
			开发脚本：
				check_ods.sh、check_dim.sh、check_dwd.sh

		2、定义检查规则
            规则1：主键NULL（null_id.sh）
            SELECT
                '2024-03-25' AS dt
                , 'ods_order_info' AS tbl_name
                , 'id' AS pk_name
                , count(*) AS cnt
            FROM gmall.ods_order_info
            WHERE dt = '2024-03-25' AND id IS NULL ;
            规则2：主键重复（duplicate.sh）
            SELECT
                '2024-03-25' AS dt
                , 'ods_order_info' AS tbl_name
                , 'id' AS pk_name
                , count(*) AS cnt
            FROM gmall.ods_order_info
            WHERE dt = '2024-03-25'
            GROUP BY id
            HAVING count(*) >= 2 ;
            规则3：数据量日环比（day_on_day.sh）
            今天数据量 与 昨天数据量 比值，
                给一个上限和下限，比如上下波动10%
            规则4：数据量周同比（week_on_week.sh）
            今天（周几）数据量 与 上周今天（周几）数据量比值，
                给一个上限和下限，比如上下波动10%
            规则5：域值范围（range.sh）
            表中某个度量字段值范围区间，比如订单明细表中
                商品数量sku_num值范围1 ~ 99，订单金额值范围：0.0 ~ 99999.99

		3、规则检查结果存储
			每个规则匹配检查每个表得到的数据进行存储，使用MySQL数据库
			第1、每个规则对应一张表
			第2、对数仓分层中核心重要表都要规则检查，查看数据是否有问题
			第3、使用图表（比如折线图）展示检查结果
			第4、如果规则检查结果超过正常值范围，发送预警和邮件，及时通知信息，便于快速处理

